<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#ffffff" />
    <meta name="description" content="Simple web interface for chocoboAPI" />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Noctis" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link href="splashscreens/iphone5_splash.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
    <link href="splashscreens/iphone6_splash.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
    <link href="splashscreens/iphoneplus_splash.png" media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image" />
    <link href="splashscreens/iphonex_splash.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image" />
    <link href="splashscreens/iphonexr_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
    <link href="splashscreens/iphonexsmax_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image" />
    <link href="splashscreens/ipad_splash.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
    <link href="splashscreens/ipadpro1_splash.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
    <link href="splashscreens/ipadpro3_splash.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
    <link href="splashscreens/ipadpro2_splash.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/js/all.min.js"></script>
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>noctis</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="overlay"><div class="fa-5x"><i class="fas fa-circle-notch fa-spin" aria-hidden="true"></i></div></div>
    <div id="root"></div>
  </body>
  <script>
      // const debounce = (fn) => {
      //   let frame;
      //   return (...params) => {
      //     if (frame) { 
      //       cancelAnimationFrame(frame);
      //     }
      //     frame = requestAnimationFrame(() => {
      //       fn(...params);
      //     });
      //   } 
      // };
      // const storeScroll = () => {
      //   document.documentElement.dataset.scroll = window.scrollY;
      // }
      // document.addEventListener('scroll', debounce(storeScroll), { passive: true });
      // storeScroll();

      window.addEventListener('scroll', (event) => {
        let header = document.getElementById('wallpaper-photo')
        let photo = document.getElementById('profile-photo')
        let username = document.getElementById('username')
        if (window.innerWidth <= 500) {
          console.log(window.pageYOffset + 'px')
          if (window.scrollY > 60) {
            header.style.position = 'fixed'
            header.style.height = '120px'
            header.getElementsByTagName('span')[0].style.display = 'none'
            photo.getElementsByTagName('span')[0].style.display = 'none'
            photo.style.position = 'fixed'
            photo.style.justifyContent = 'flex-start'
            photo.style.top = '40px'
            photo.style.height = '50px'
            photo.style.width = '50px'
            username.style.position = 'fixed'
            username.style.right = '20px'
            username.style.top = '46px'
            username.style.color = '#fff'
          } else {
            header.style.position = 'relative'
            header.style.height = '300px'
            header.getElementsByTagName('span')[0].style.display = 'block'
            photo.getElementsByTagName('span')[0].style.display = 'block'
            photo.style.position = 'relative'
            photo.style.justifyContent = 'center'
            photo.style.top = '150px'
            photo.style.height = 'calc(110px + 10vmin)'
            photo.style.width = 'calc(110px + 10vmin)'
            username.style.position = 'relative'
            username.style.marginTop = '50px'
            username.style.top = '0'
            username.style.right = '0'
            username.style.bottom = '0'
            username.style.color = '#000'
          }
        }
      })
  </script>
</html>
